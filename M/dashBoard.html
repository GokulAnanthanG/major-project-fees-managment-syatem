<!-- MAJOR PROJECT FESS MANAGEMENT SYSTEM -->
<!-- TEAM -->
<!--
    ****************
    G.GOKUL ANANTHAN
    N.PREM
    N.SATHISH KUMAR
    S.SUDHAKAR
    ****************
UNDER THE GUIDANCE OF
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
MR.Ashok Lingam Sir & MR.Karuppasamy sir
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--font awesome cdn-->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
   
    <!--chart-->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"
      integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!--bootsrap-->
    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
     <!--alert library-->
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
 <!--css-->
 <link rel="stylesheet" href="../assets/css/dashboard.css" />
 <link
   rel="shortcut icon"
   href="../assets/images/favicon.ico"
   type="image/x-icon"
 />
    <title>SSB FESS MANAGEMENT SYSTEM | dashboard</title>
  </head>
  <body> 
    <!-- The sidebar -->
    <div class="sidebar">
        <div class="logo">
            <center>
              <img class="img-responsive" src="../assets/images/logo.png" alt="" />
              <p>SSB</p>
            </center>
          </div> 
          <center>
            <i class="fa fa-binoculars profileIcon"></i>
            <p class="userName">
              <p  id="logDate"></p> 
            </p>
          </center>
          <p class="menu-text" style="margin-top: -10px;">Menu</p>
        <a class="active" href="dashboard.html">
            <i class="fa fa-home"></i>&nbsp;&nbsp;&nbsp;&nbsp;<span>Home</span>
          </a>
          <a href="addPayment.html" title="add fees payments">
            <i class="fa fa-add"></i>&nbsp;&nbsp;&nbsp;&nbsp;<span>Fees</span>
          </a>
          <a href="recent.html" title="recent payments">
            <i class="fa fa-history"></i>&nbsp;&nbsp;&nbsp;&nbsp;<span
              >Recent</span
            >
          </a>
          <a href="search.html" title="search individual report">
            <i class="fa fa-search"></i>&nbsp;&nbsp;&nbsp;&nbsp;<span
              >Search</span
            >
          </a>
          <a href="report.html" title="view payment report and generate report for department">
            <i class="fa fa-clipboard-list"></i>&nbsp;&nbsp;&nbsp;&nbsp;<span
              >Report</span
            >
          </a>
          <a   href="student.html" title="add student & view,edit,delete ">
            <i class="fa fa-user"></i>&nbsp;&nbsp;&nbsp;&nbsp;<span
              >Student</span
            >
          </a>
        </a>
          <a href="#" id="logout">
            <i class="fa-solid fa-right-from-bracket" title="logout"></i>&nbsp;&nbsp;&nbsp;&nbsp;<span>Logout</span>
          </a>
    </div>

    <!-- Page content -->
    <div class="content">
        <div class="row  top">
            <div class="col-lg-6">  <h3 class="title">Dashboard</h3></div>
            <div class="col-lg-6 pt-4   ">  
                <div class="inner-content1  ">
                    <input type="text" id="batch" placeholder="batch" />
                <select name="" id="sem">
                  <option value="">--</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                </select>
                <button id="search"><i class="fa fa-search"></i></button>
                </div>
            </div>
            <!--row-->
        </div>
<br>
 <span id="status1"></span><span id="status2"></span><span id="status3"></span><span id="status4"></span><span id="status5"></span><span id="status6"></span><span id="status7"></span><span id="status8"></span>
      <div class="container">
            <!--status bar-->
        <h3 class="title">Fees Collection</h3>
        <p class="sub-title">Overall in sem</p>
        <div class="row p-1 status-bar">
            <div class="col-lg-6 box1">
                <p class="title">Colleceted Amount</p>
                <table>
                  <thead>
                    <tr>
                      <td>College Fee</td>
                      <td>Skill Fee</td>
                      <td>Bus/Van Fee</td>
                      <td>Other Fee</td>
                      <td>Total Fee</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td ><span id="collegeFees">0</span>&nbsp;<i>&#8377;</i></td>
                      <td ><span id="skillFees">0</span>&nbsp;<i>&#8377;</i></td>
                      <td ><span id="busOrVanFees">0</span>&nbsp;<i>&#8377;</i></td>
                      <td ><span  id="otherFees">0</span>&nbsp;<i>&#8377;</i></td>
                      <td><span id="total">0</span>&nbsp;<i>&#8377;</i></td>
                    </tr>
                  </tbody>
                </table>
            </div>
            <div class="col-lg-6 box2">
                <p class="title">Balanace Amount</p>

                <table>
                  <thead>
                    <tr>
                      <td>College Fee</td>
                      <td>Skill Fee</td>
                      <td>Bus/Van Fee</td>
                      <td>Other Fee</td>
                      <td>Total Fee</td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td ><span id="collegeFeesUnPayed">0</span>&nbsp;<i>&#8377;</i></td>
                      <td ><span id="skillFeesUnPayed">0</span>&nbsp;<i>&#8377;</i></td>
                      <td ><span id="busOrVanFeesUnPayed">0</span>&nbsp;<i>&#8377;</i></td>
                      <td ><span  id="otherFeesUnPayed">0</span>&nbsp;<i>&#8377;</i></td>
                      <td><span id="totalUnPayed">0</span>&nbsp;<i>&#8377;</i></td>
                    </tr>
                  </tbody>
                </table>
            </div>

            <!--row-->
        </div>
                <!--end status bar-->
                <br>
                <!--chart-->
                <h3 class="title">Fees Status</h3>
                <p class="sub-title">Overall in sem</p>
                <div class="chart p-1">
                    <canvas id="myChart" width="400" height="300"></canvas>
                </div>
                <!--end chart-->
<br>
<!--department-staus-->
<h3 class="title">Fees Status</h3>
<p class="sub-title">department whise</p>
<div class="row p-1 department-status">
    <div class="col-lg-4 box m-2"> <h5>BCA&nbsp; <span class="count">[<span id="bcaStrength">0</span>]</span></h5>
        <span class="heading1">payed</span>
        <br />
        <p><span id="bcaPayed">0</span></p>

         <span class="heading2"> unpayed</span>
        <p><span id="bcaUnPayed">0</span></p></div>
    <div class="col-lg-4 box m-2">
        <h5>B.Com&nbsp; <span class="count">[<span id="bcomStrength">0</span>]</span></h5>
        <span class="heading1">payed</span>
        <br />
        <p><span id="bcomPayed">0</span></p>

 
        <span class="heading2"> unpayed</span>
        <p><span id="bcomUnPayed">0</span></p>
    </div>
    <div class="col-lg-4 box m-2">
        <h5>&nbsp;BBA<span class="count">[<span id="bbaStrength">0</span>]</span></h5>
        <span class="heading1">payed</span>
        <br />
        <p><span id="bbaPayed">0</span></p>

       
        <span class="heading2"> unpayed</span>
        <p><span id="bbaUnPayed">0</span></p>
    </div>
    <div class="col-lg-4 box m-2">
        <h5>Bsc(IT)&nbsp; <span class="count">[<span id="bscitStrength">0</span>]</span></h5>
        <span class="heading1">payed</span>
        <br />
        <p><span id="bscitPayed">0</span></p>

        
        <span class="heading2"> unpayed</span>
        <p><span id="bscitUnPayed">0</span></p>
    </div>
    <div class="col-lg-4 box m-2">
        <h5>Bsc(Maths)&nbsp; <span class="count">[<span id="bscmathsStrength">0</span>]</span></h5>
        <span class="heading1">payed</span>
        <br />
        <p><span id="bscmathsPayed">0</span></p>

        
        <span class="heading2"> unpayed</span>
        <p><span id="bscmathsUnPayed">0</span></p>
    </div> <div class="col-lg-4 box m-2">
        <h5>BA(English)&nbsp; <span class="count">[<span id="baenglishStrength">0</span>]</span></h5>
        <span class="heading1">payed</span>
        <br />
        <p><span id="baenglishPayed">0</span></p>

        
        <span class="heading2"> unpayed</span>
        <p><span id="baenglishUnPayed">0</span></p>
    </div> <div class="col-lg-4 box m-2">
        <h5>M.com&nbsp; <span class="count">[<span id="mcomStrength">0</span>]</span></h5>
        <span class="heading1">payed</span>
        <br />
        <p><span id="mcomPayed">0</span></p>

        
        <span class="heading2"> unpayed</span>
        <p><span id="mcomUnPayed">0</span></p>
    </div>
    <!--row-->
</div>
<!--end department staus-->
<hr>
<!--footer-->
<p align="center" class="m-1">
    &copy; Sri Sankara Bhagavthi Arts & Science College. All Rights
    Reserved
  </p>
<!--footer-->
                <!--container-->
      </div>
    <!--end content-->
</div>
  </body>
  <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
 <!--jquery-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
  $(document).ready(()=>{

try {
  if(JSON.parse(localStorage.getItem("FMSUsEr")).pos!="Manager"){
   window.location.href="../index.html";
  }
} catch (error) {
  window.location.href="../index.html";
}
$("#logout").click(()=>{

  swal("Are you sure you want to do this?", {
  buttons: ["cancel", true],
}).then((data)=>{
  if(data==true){
    localStorage.removeItem("FMSUsEr");
window.location.href="../index.html";
  }
})
})


var staffDetail = JSON.parse(localStorage.getItem("FMSUsEr"));
      $(".userName").html(staffDetail.nAmeUSer);
      $("#logDate").html(staffDetail.lDate);


   try{
    $("#batch").val(JSON.parse(localStorage.getItem("FMSbATcHSeM")).batch);
    $("#sem").val(JSON.parse(localStorage.getItem("FMSbATcHSeM")).sem)
   }
   catch(err){
    swal("please set the batch & sem", " ", "warning");
   }
    $("#search").click(()=>{
      if($("#batch").val()!=""&&$("#sem").val()!=""){
       let FMSbATcHSeM={batch:$("#batch").val(),sem:$("#sem").val()}
localStorage.setItem("FMSbATcHSeM",JSON.stringify(FMSbATcHSeM));
   //fn main
main();
}
      else
      swal("please enter the batch & sem", " ", "warning");
    })//search
//chart
function Displaychart(payed, unpayed) {
  const ctx = document.getElementById("myChart").getContext("2d");
  const myChart = new Chart(ctx, {
    type: "pie",
    data: {
      labels: ["Payed", "UnPayed"],
      datasets: [
        {
          label: "# of fees payed unpayed",
          data: [payed, unpayed],
          backgroundColor: [
            "rgba(54, 163, 235, 0.363)",
            " rgba(255, 99, 133, 0.329)",
          ],
          borderColor: ["rgba(54, 162, 235, 1)","rgba(255, 99, 132, 1)"],
          borderWidth: 1,
        },
      ],
    },
    options: {
      maintainAspectRatio: false,
      scales: {
        y: {
          beginAtZero: true,
        },
      },
    },
  });
}

//end chart
///
var $skills;
///
    var $bcaStudents,$bcomStudents,$bbaStudents,$bscItSTudents,$bscMathsStudents,$baEnglishStudents,$mcomStudents;
var $batchFeesForBca,$batchFeesForBcom,$batchFeesForBBA,$batchFeesForBscIT,$batchFeesForBscMaths,$batchFeesForBaEnglish,$batchFeesForMcom;
var $otherFeesForBca=0,$otherFeesForBcom=0,$otherFeesForBba=0,$otherFeesForBscIT=0,$otherFeesForBscMaths=0,$otherFeesForEnglish=0,$otherFeesForMcom=0;
///
 var _BCAFullfeessPayedCount=0,_BComFullfeessPayedCount=0,_BBAFullfeessPayedCount=0,_BSCITFullfeessPayedCount=0,_BSCMATHSFullfeessPayedCount=0,_BAENGLISHFullfeessPayedCount=0,_MCOMFullfeessPayedCount=0
var _BCAFullfeessUnPayedCount=0,_BComFullfeessUnPayedCount=0,_BBAFullfeessUnPayedCount=0,_BSCITFullfeessUnPayedCount=0,_BSCMATHSFullfeessUnPayedCount=0,_BAENGLISHFullfeessUnPayedCount=0,_MCOMFullfeessUnPayedCount=0
///
///
var $_OverAllCollegeFeesAmountPayed=0
var $_OverAllSkillFeesAmountPayed=0
var $_OverAllBusOrVanFeesAmountPayed=0
var $_OverAllOtherFeesAmountPayed=0
///
///
var $_OverAllCollegeFeesAmountUnPayed=0
var $_OverAllSkillFeesAmountUnPayed=0
var $_OverAllBusOrVanFeesAmountUnPayed=0
var $_OverAllOtherFeesAmountUnPayed=0
////
function main(){

  $("#collegeFees").html(0);
  $("#skillFees").html(0);
  $("#busOrVanFees").html(0);
  $("#otherFees").html(0);
  $("#total").html(0);

  $("#collegeFeesUnPayed").html(0);
  $("#skillFeesUnPayed").html(0);
  $("#busOrVanFeesUnPayed").html(0);
  $("#otherFeesUnPayed").html(0);
  $("#totalUnPayed").html(0);

  $("#bcaPayed").html(0);
  $("#bcaUnPayed").html(0);
  $("#bcomPayed").html(0);
  $("#bcomUnPayed").html(0);
  $("#bbaPayed").html(0);
  $("#bbaUnPayed").html(0);
  $("#bscitUnPayed").html(0);
  $("#bscitUnPayed").html(0);
  $("#bscmathsPayed").html(0);
  $("#bscmathsUnPayed").html(0);
  $("#baenglishPayed").html(0);
  $("#baenglishUnPayed").html(0);
  $("#mcomPayed").html(0);
  $("#mcomUnPayed").html(0);
    _BCAFullfeessPayedCount=0,_BComFullfeessPayedCount=0,_BBAFullfeessPayedCount=0,_BSCITFullfeessPayedCount=0,_BSCMATHSFullfeessPayedCount=0,_BAENGLISHFullfeessPayedCount=0,_MCOMFullfeessPayedCount=0
  _BCAFullfeessUnPayedCount=0,_BComFullfeessUnPayedCount=0,_BBAFullfeessUnPayedCount=0,_BSCITFullfeessUnPayedCount=0,_BSCMATHSFullfeessUnPayedCount=0,_BAENGLISHFullfeessUnPayedCount=0,_MCOMFullfeessUnPayedCount=0
///
///
  $_OverAllCollegeFeesAmountPayed=0
  $_OverAllSkillFeesAmountPayed=0
  $_OverAllBusOrVanFeesAmountPayed=0
  $_OverAllOtherFeesAmountPayed=0
///
///
  $_OverAllCollegeFeesAmountUnPayed=0
  $_OverAllSkillFeesAmountUnPayed=0
  $_OverAllBusOrVanFeesAmountUnPayed=0
  $_OverAllOtherFeesAmountUnPayed=0
  
/*---functions---*/

/* function to get batch fees */
function getBatchFees(department){
  let status=false;
  let FetchedData;
$.ajax({
  async:false,
  method:"post",
  url:"../php/getBatchFeesForbatchAndDep.php",
  data:{department:department,batch:$("#batch").val()},
  success:(data)=>{
    if(data!=0||data!=000){
      FetchedData= data;
    status=true;
    }
    else
    status=false;
  },
  error:(err)=>{
 status=false;
 console.log(err);
  }
})
if(status==true){
  return  Promise.resolve(FetchedData);
}
else
return Promise.reject("something went wrong")
}
/*end  function to get batch fees */


/* function to get skill fees */
function getSkillFees( ){
  let status=false;
  let FetchedData;
$.ajax({
  async:false,
  method:"post",
  url:"../php/getSkillToAddStudent.php",
  data: {batch:$("#batch").val()},
  success:(data)=>{
    if(data!=0||data!=000){
      FetchedData= data;
    status=true;
    }
    else{
      status=false;
    }
  },
  error:(err)=>{
 status=false;
 console.log(err);

  }
})
if(status==true){
  return  Promise.resolve(FetchedData);
}
else
return Promise.reject("something went wrong")
}
/*end  function to get skill fees */


/*function to filter the skill fees*/

function filterSkillFees(skillFeesDetail,studentInSkill){
try{
     let index;skillFeesDetail.find((e,i)=>{
    if(e.value==studentInSkill){
     index=i;
    }
  })
  var skillFees=skillFeesDetail[index+1].value;
     }
  catch(err){
$("#status5").html("failed to get the skill");
$("#status5").css("color","orange");
}
   return skillFees;
  }
/*end function to filter the skill fees*/


/*function to getStudentOverAllFinePayed*/
function getStudentOverAllFinePayed(rollNo){
  let finePayed=0;
  $.ajax({
  async:false,
  method:"post",
  url:"../php/getOverAllFeesRecordsForIndivdualStudent.php",
  data: {batch:$("#batch").val(),rollNo :rollNo},
  success:(data)=>{
   if(data!=0||data!=000){
var fetchedData=JSON.parse(data);
fetchedData.forEach(e => {
    finePayed+=Number(e.fine);
});//foreach
   }//if
  }
  ,error:(err=>{ console.log(err);
})
})//
return finePayed;
}
/*end function to getStudentOverAllFinePayed*/

/* function to fetch department students */
function getDepartmentStudents(department){
   let status=false;
  let FetchedData;
$.ajax({
  async:false,
  method:"post",
  url: "../php/getStudentDepartmentWise.php",
        data:{batch:$("#batch").val(),department:department},
  success:(data)=>{
    
      FetchedData= data;
    status=true;
   
  },
  error:(err)=>{
 status=false;
 console.log(err);

  }
})
if(status==true){
  return  Promise.resolve(FetchedData);
}
else
return Promise.reject("something went wrong")
}
/*end function to fetch department students */

/* function to get the student payment history */

function getStudentPaymentHistory(rollNo){
   let status=false;
  let FetchedData;
$.ajax({
  async:false,
  method:"post",
  url:"../php/getFeesRecordsForIndivdualStudent.php",
  data: {batch:$("#batch").val(),sem:$("#sem").val(),rollNo :rollNo},
  success:(data)=>{
      FetchedData= data;
    status=true;
  },
  error:(err)=>{
 status=false;
 console.log(err);
  }
})
if(status==true){
  return  Promise.resolve(FetchedData);
}
else
return Promise.reject("something went wrong")
}

/*----helper fumctions for department process----*/ 

//BCA
async function calcBCAStudentFees(skillFees,fine,batchFees,otherFees,studentRecord){
$("#bcaStrength").html($bcaStudents.length)
var paymentHistory=await getStudentPaymentHistory(studentRecord.rollNo)
paymentHistory=JSON.parse(paymentHistory);
if(paymentHistory!=0){
  var collegeFeesPayed=0,skillFeesPayed=0,busOrVanFeesPayed=0,otherFeesPayed=0;
paymentHistory.forEach(e=>{
collegeFeesPayed+=Number(e.collegeFees);
skillFeesPayed+=Number(e.skillFees);
busOrVanFeesPayed+=Number(e.busOrVanFees);
otherFeesPayed+=Number(e.otherFees);
})//foreach
 
$_OverAllCollegeFeesAmountPayed+=collegeFeesPayed;
$_OverAllSkillFeesAmountPayed+=skillFeesPayed;
$_OverAllBusOrVanFeesAmountPayed+=busOrVanFeesPayed;
$_OverAllOtherFeesAmountPayed+=otherFeesPayed;
///
$("#collegeFees").html($_OverAllCollegeFeesAmountPayed);
$("#skillFees").html($_OverAllSkillFeesAmountPayed);
$("#busOrVanFees").html($_OverAllBusOrVanFeesAmountPayed)
$("#otherFees").html($_OverAllOtherFeesAmountPayed)
//
$("#total").html($_OverAllCollegeFeesAmountPayed+$_OverAllSkillFeesAmountPayed+$_OverAllBusOrVanFeesAmountPayed+$_OverAllOtherFeesAmountPayed)
//
//upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees)-Number(collegeFeesPayed);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees)-Number(skillFeesPayed);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees)-Number(busOrVanFeesPayed);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees)-Number(otherFeesPayed);
///
$("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
//

var fineSTatus= studentRecord.fine-fine
if(batchFees==collegeFeesPayed&&skillFees==skillFeesPayed&&studentRecord.vanOrBusFees==busOrVanFeesPayed&&otherFees==otherFeesPayed&&fineSTatus==0){
  _BCAFullfeessPayedCount++;
  $("#bcaPayed").html(_BCAFullfeessPayedCount);
}
else
_BCAFullfeessUnPayedCount++;
$("#bcaUnPayed").html(_BCAFullfeessUnPayedCount);
}//if
else{
  //upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees);
///
  $("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
  _BCAFullfeessUnPayedCount++
  $("#bcaUnPayed").html(_BCAFullfeessUnPayedCount);
}
}//fn
//ENd BCA


//BCOM
async function calcBCOMStudentFees(skillFees,fine,batchFees,otherFees,studentRecord){
$("#bcomStrength").html($bcomStudents.length)
var paymentHistory=await getStudentPaymentHistory(studentRecord.rollNo)
paymentHistory=JSON.parse(paymentHistory);
if(paymentHistory!=0){
  var collegeFeesPayed=0,skillFeesPayed=0,busOrVanFeesPayed=0,otherFeesPayed=0;
paymentHistory.forEach(e=>{
collegeFeesPayed+=Number(e.collegeFees);
skillFeesPayed+=Number(e.skillFees);
busOrVanFeesPayed+=Number(e.busOrVanFees);
otherFeesPayed+=Number(e.otherFees);
})//foreach
 
$_OverAllCollegeFeesAmountPayed+=collegeFeesPayed;
$_OverAllSkillFeesAmountPayed+=skillFeesPayed;
$_OverAllBusOrVanFeesAmountPayed+=busOrVanFeesPayed;
$_OverAllOtherFeesAmountPayed+=otherFeesPayed;
///
$("#collegeFees").html($_OverAllCollegeFeesAmountPayed);
$("#skillFees").html($_OverAllSkillFeesAmountPayed);
$("#busOrVanFees").html($_OverAllBusOrVanFeesAmountPayed)
$("#otherFees").html($_OverAllOtherFeesAmountPayed)
//
$("#total").html($_OverAllCollegeFeesAmountPayed+$_OverAllSkillFeesAmountPayed+$_OverAllBusOrVanFeesAmountPayed+$_OverAllOtherFeesAmountPayed)
//
//upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees)-Number(collegeFeesPayed);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees)-Number(skillFeesPayed);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees)-Number(busOrVanFeesPayed);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees)-Number(otherFeesPayed);
///
$("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
//

var fineSTatus= studentRecord.fine-fine
if(batchFees==collegeFeesPayed&&skillFees==skillFeesPayed&&studentRecord.vanOrBusFees==busOrVanFeesPayed&&otherFees==otherFeesPayed&&fineSTatus==0){
  _BComFullfeessPayedCount++;
  $("#bcomPayed").html(_BComFullfeessPayedCount);
}
else
_BComFullfeessUnPayedCount++;
$("#bcomUnPayed").html(_BComFullfeessUnPayedCount);
}//if
else{
  //upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees);
///
  $("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
_BComFullfeessUnPayedCount++
  $("#bcomUnPayed").html(_BComFullfeessUnPayedCount);
}
}//fn
//ENd BCOM



//BBA
async function calcBBAStudentFees(skillFees,fine,batchFees,otherFees,studentRecord){
$("#bbaStrength").html($bbaStudents.length)
var paymentHistory=await getStudentPaymentHistory(studentRecord.rollNo)
paymentHistory=JSON.parse(paymentHistory);
if(paymentHistory!=0){
  var collegeFeesPayed=0,skillFeesPayed=0,busOrVanFeesPayed=0,otherFeesPayed=0;
paymentHistory.forEach(e=>{
collegeFeesPayed+=Number(e.collegeFees);
skillFeesPayed+=Number(e.skillFees);
busOrVanFeesPayed+=Number(e.busOrVanFees);
otherFeesPayed+=Number(e.otherFees);
})//foreach
 
$_OverAllCollegeFeesAmountPayed+=collegeFeesPayed;
$_OverAllSkillFeesAmountPayed+=skillFeesPayed;
$_OverAllBusOrVanFeesAmountPayed+=busOrVanFeesPayed;
$_OverAllOtherFeesAmountPayed+=otherFeesPayed;
///
$("#collegeFees").html($_OverAllCollegeFeesAmountPayed);
$("#skillFees").html($_OverAllSkillFeesAmountPayed);
$("#busOrVanFees").html($_OverAllBusOrVanFeesAmountPayed)
$("#otherFees").html($_OverAllOtherFeesAmountPayed)
//
$("#total").html($_OverAllCollegeFeesAmountPayed+$_OverAllSkillFeesAmountPayed+$_OverAllBusOrVanFeesAmountPayed+$_OverAllOtherFeesAmountPayed)
//
//upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees)-Number(collegeFeesPayed);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees)-Number(skillFeesPayed);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees)-Number(busOrVanFeesPayed);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees)-Number(otherFeesPayed);
///
$("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
//

var fineSTatus= studentRecord.fine-fine
if(batchFees==collegeFeesPayed&&skillFees==skillFeesPayed&&studentRecord.vanOrBusFees==busOrVanFeesPayed&&otherFees==otherFeesPayed&&fineSTatus==0){
  _BBAFullfeessPayedCount++;
  $("#bbaPayed").html(_BBAFullfeessPayedCount);
}
else
_BBAFullfeessUnPayedCount++;
$("#bbaUnPayed").html(_BBAFullfeessUnPayedCount);
}//if
else{
  //upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees);
///
  $("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
_BBAFullfeessUnPayedCount++
  $("#bbaUnPayed").html(_BBAFullfeessUnPayedCount);
}
}//fn
//ENd BBA


 
//IT
async function calcBSCITStudentFees(skillFees,fine,batchFees,otherFees,studentRecord){
$("#bscitStrength").html($bscItSTudents.length)
var paymentHistory=await getStudentPaymentHistory(studentRecord.rollNo)
paymentHistory=JSON.parse(paymentHistory);
if(paymentHistory!=0){
  var collegeFeesPayed=0,skillFeesPayed=0,busOrVanFeesPayed=0,otherFeesPayed=0;
paymentHistory.forEach(e=>{
collegeFeesPayed+=Number(e.collegeFees);
skillFeesPayed+=Number(e.skillFees);
busOrVanFeesPayed+=Number(e.busOrVanFees);
otherFeesPayed+=Number(e.otherFees);
})//foreach
 
$_OverAllCollegeFeesAmountPayed+=collegeFeesPayed;
$_OverAllSkillFeesAmountPayed+=skillFeesPayed;
$_OverAllBusOrVanFeesAmountPayed+=busOrVanFeesPayed;
$_OverAllOtherFeesAmountPayed+=otherFeesPayed;
///
$("#collegeFees").html($_OverAllCollegeFeesAmountPayed);
$("#skillFees").html($_OverAllSkillFeesAmountPayed);
$("#busOrVanFees").html($_OverAllBusOrVanFeesAmountPayed)
$("#otherFees").html($_OverAllOtherFeesAmountPayed)
//
$("#total").html($_OverAllCollegeFeesAmountPayed+$_OverAllSkillFeesAmountPayed+$_OverAllBusOrVanFeesAmountPayed+$_OverAllOtherFeesAmountPayed)
//
//upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees)-Number(collegeFeesPayed);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees)-Number(skillFeesPayed);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees)-Number(busOrVanFeesPayed);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees)-Number(otherFeesPayed);
///
$("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
//

var fineSTatus= studentRecord.fine-fine
if(batchFees==collegeFeesPayed&&skillFees==skillFeesPayed&&studentRecord.vanOrBusFees==busOrVanFeesPayed&&otherFees==otherFeesPayed&&fineSTatus==0){
  _BSCITFullfeessPayedCount++;
  $("#bscitPayed").html(_BSCITFullfeessPayedCount);
}
else
_BSCITFullfeessUnPayedCount++;
$("#bscitUnPayed").html(_BSCITFullfeessUnPayedCount);
}//if
else{
  //upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees);
///
  $("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
_BSCITFullfeessUnPayedCount++
  $("#bscitUnPayed").html(_BSCITFullfeessUnPayedCount);
}
}//fn
//ENd IT

 

//MATHS
async function calcBSCMATHSStudentFees(skillFees,fine,batchFees,otherFees,studentRecord){
$("#bscmathsStrength").html($bscMathsStudents.length)
var paymentHistory=await getStudentPaymentHistory(studentRecord.rollNo)
paymentHistory=JSON.parse(paymentHistory);
if(paymentHistory!=0){
  var collegeFeesPayed=0,skillFeesPayed=0,busOrVanFeesPayed=0,otherFeesPayed=0;
paymentHistory.forEach(e=>{
collegeFeesPayed+=Number(e.collegeFees);
skillFeesPayed+=Number(e.skillFees);
busOrVanFeesPayed+=Number(e.busOrVanFees);
otherFeesPayed+=Number(e.otherFees);
})//foreach
 
$_OverAllCollegeFeesAmountPayed+=collegeFeesPayed;
$_OverAllSkillFeesAmountPayed+=skillFeesPayed;
$_OverAllBusOrVanFeesAmountPayed+=busOrVanFeesPayed;
$_OverAllOtherFeesAmountPayed+=otherFeesPayed;
///
$("#collegeFees").html($_OverAllCollegeFeesAmountPayed);
$("#skillFees").html($_OverAllSkillFeesAmountPayed);
$("#busOrVanFees").html($_OverAllBusOrVanFeesAmountPayed)
$("#otherFees").html($_OverAllOtherFeesAmountPayed)
//
$("#total").html($_OverAllCollegeFeesAmountPayed+$_OverAllSkillFeesAmountPayed+$_OverAllBusOrVanFeesAmountPayed+$_OverAllOtherFeesAmountPayed)
//
//upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees)-Number(collegeFeesPayed);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees)-Number(skillFeesPayed);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees)-Number(busOrVanFeesPayed);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees)-Number(otherFeesPayed);
///
$("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
//

var fineSTatus= studentRecord.fine-fine
if(batchFees==collegeFeesPayed&&skillFees==skillFeesPayed&&studentRecord.vanOrBusFees==busOrVanFeesPayed&&otherFees==otherFeesPayed&&fineSTatus==0){
  _BSCMATHSFullfeessPayedCount++;
  $("#bscmathsPayed").html(_BSCMATHSFullfeessPayedCount);
}
else
_BSCMATHSFullfeessUnPayedCount++;
$("#bscmathsUnPayed").html(_BSCMATHSFullfeessUnPayedCount);
}//if
else{
  //upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees);
///
  $("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
_BSCMATHSFullfeessUnPayedCount++
  $("#bscmathsUnPayed").html(_BSCMATHSFullfeessUnPayedCount);
}
}//fn
//ENd MATHS



//BAENGLISH
async function calcBAENGLISHStudentFees(skillFees,fine,batchFees,otherFees,studentRecord){
$("#baenglishStrength").html($baEnglishStudents.length)
var paymentHistory=await getStudentPaymentHistory(studentRecord.rollNo)
paymentHistory=JSON.parse(paymentHistory);
if(paymentHistory!=0){
  var collegeFeesPayed=0,skillFeesPayed=0,busOrVanFeesPayed=0,otherFeesPayed=0;
paymentHistory.forEach(e=>{
collegeFeesPayed+=Number(e.collegeFees);
skillFeesPayed+=Number(e.skillFees);
busOrVanFeesPayed+=Number(e.busOrVanFees);
otherFeesPayed+=Number(e.otherFees);
})//foreach
 
$_OverAllCollegeFeesAmountPayed+=collegeFeesPayed;
$_OverAllSkillFeesAmountPayed+=skillFeesPayed;
$_OverAllBusOrVanFeesAmountPayed+=busOrVanFeesPayed;
$_OverAllOtherFeesAmountPayed+=otherFeesPayed;
///
$("#collegeFees").html($_OverAllCollegeFeesAmountPayed);
$("#skillFees").html($_OverAllSkillFeesAmountPayed);
$("#busOrVanFees").html($_OverAllBusOrVanFeesAmountPayed)
$("#otherFees").html($_OverAllOtherFeesAmountPayed)
//
$("#total").html($_OverAllCollegeFeesAmountPayed+$_OverAllSkillFeesAmountPayed+$_OverAllBusOrVanFeesAmountPayed+$_OverAllOtherFeesAmountPayed)
//
//upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees)-Number(collegeFeesPayed);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees)-Number(skillFeesPayed);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees)-Number(busOrVanFeesPayed);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees)-Number(otherFeesPayed);
///
$("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
//

var fineSTatus= studentRecord.fine-fine
if(batchFees==collegeFeesPayed&&skillFees==skillFeesPayed&&studentRecord.vanOrBusFees==busOrVanFeesPayed&&otherFees==otherFeesPayed&&fineSTatus==0){
  _BAENGLISHFullfeessPayedCount++;
  $("#baenglishPayed").html(_BAENGLISHFullfeessPayedCount);
}
else
_BAENGLISHFullfeessUnPayedCount++;
$("#baenglishUnPayed").html(_BAENGLISHFullfeessUnPayedCount);
}//if
else{
  //upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees);
///
  $("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
_BAENGLISHFullfeessUnPayedCount++
  $("#baenglishUnPayed").html(_BAENGLISHFullfeessUnPayedCount);
}
}//fn
//ENd BAENGLISH


//MCOM
async function calcMCOMStudentFees(skillFees,fine,batchFees,otherFees,studentRecord){
$("#mcomStrength").html($mcomStudents.length)
var paymentHistory=await getStudentPaymentHistory(studentRecord.rollNo)
paymentHistory=JSON.parse(paymentHistory);
if(paymentHistory!=0){
  var collegeFeesPayed=0,skillFeesPayed=0,busOrVanFeesPayed=0,otherFeesPayed=0;
paymentHistory.forEach(e=>{
collegeFeesPayed+=Number(e.collegeFees);
skillFeesPayed+=Number(e.skillFees);
busOrVanFeesPayed+=Number(e.busOrVanFees);
otherFeesPayed+=Number(e.otherFees);
})//foreach
 
$_OverAllCollegeFeesAmountPayed+=collegeFeesPayed;
$_OverAllSkillFeesAmountPayed+=skillFeesPayed;
$_OverAllBusOrVanFeesAmountPayed+=busOrVanFeesPayed;
$_OverAllOtherFeesAmountPayed+=otherFeesPayed;
///
$("#collegeFees").html($_OverAllCollegeFeesAmountPayed);
$("#skillFees").html($_OverAllSkillFeesAmountPayed);
$("#busOrVanFees").html($_OverAllBusOrVanFeesAmountPayed)
$("#otherFees").html($_OverAllOtherFeesAmountPayed)
//
$("#total").html($_OverAllCollegeFeesAmountPayed+$_OverAllSkillFeesAmountPayed+$_OverAllBusOrVanFeesAmountPayed+$_OverAllOtherFeesAmountPayed)
//
//upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees)-Number(collegeFeesPayed);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees)-Number(skillFeesPayed);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees)-Number(busOrVanFeesPayed);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees)-Number(otherFeesPayed);
///
$("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
//

var fineSTatus= studentRecord.fine-fine
if(batchFees==collegeFeesPayed&&skillFees==skillFeesPayed&&studentRecord.vanOrBusFees==busOrVanFeesPayed&&otherFees==otherFeesPayed&&fineSTatus==0){
  _MCOMFullfeessPayedCount++;
  $("#mcomPayed").html(_MCOMFullfeessPayedCount);
}
else
_MCOMFullfeessUnPayedCount++;
$("#mcomUnPayed").html(_MCOMFullfeessUnPayedCount);
}//if
else{
  //upayed
$_OverAllCollegeFeesAmountUnPayed+=Number(batchFees);
$_OverAllSkillFeesAmountUnPayed+=Number(skillFees);
$_OverAllBusOrVanFeesAmountUnPayed+=Number(studentRecord.vanOrBusFees);
$_OverAllOtherFeesAmountUnPayed+= Number(otherFees);
///
  $("#collegeFeesUnPayed").html($_OverAllCollegeFeesAmountUnPayed);
$("#skillFeesUnPayed").html($_OverAllSkillFeesAmountUnPayed);
$("#busOrVanFeesUnPayed").html($_OverAllBusOrVanFeesAmountUnPayed)
$("#otherFeesUnPayed").html($_OverAllOtherFeesAmountUnPayed);
//
$("#totalUnPayed").html($_OverAllCollegeFeesAmountUnPayed+$_OverAllSkillFeesAmountUnPayed+$_OverAllBusOrVanFeesAmountUnPayed+$_OverAllOtherFeesAmountUnPayed);
_MCOMFullfeessUnPayedCount++
  $("#mcomUnPayed").html(_MCOMFullfeessUnPayedCount);
}
 $(".chart").empty();
 $(".chart").append(' <canvas id="myChart" width="400" height="300"></canvas>')
 Displaychart(_BCAFullfeessPayedCount+_BComFullfeessPayedCount+_BBAFullfeessPayedCount+_BSCITFullfeessPayedCount+_BSCMATHSFullfeessPayedCount+_BAENGLISHFullfeessPayedCount+_MCOMFullfeessPayedCount,
_BCAFullfeessUnPayedCount+_BComFullfeessUnPayedCount+_BBAFullfeessUnPayedCount+_BSCITFullfeessUnPayedCount+_BSCMATHSFullfeessUnPayedCount+_BAENGLISHFullfeessUnPayedCount+_MCOMFullfeessUnPayedCount
);
}//fn
//ENd MCOM


/*----end helper fumctions for department process----*/ 



/* end function to get the student payment history */
//processs for bca student
async function BCA(){
  if($bcaStudents!=0&&$batchFeesForBca!=0){
  $bcaStudents.forEach(student => {
 var skillFees=filterSkillFees($skills,student.skill);
 var fine=getStudentOverAllFinePayed(student.rollNo);
 calcBCAStudentFees(skillFees,fine,$batchFeesForBca,$otherFeesForBca,student);
   });
  }
}
//end processs for bca student


//processs for bca student
async function BCOM(){
   if($bcomStudents!=0&&$batchFeesForBcom!=0){
  $bcomStudents.forEach(student => {
 var skillFees=filterSkillFees($skills,student.skill);
 var fine=getStudentOverAllFinePayed(student.rollNo);
 calcBCOMStudentFees(skillFees,fine,$batchFeesForBcom,$otherFeesForBcom,student);
   });
  }
}
//end processs for bcom student

//processs for bba student
async function BBA(){
    if($bbaStudents!=0&&$batchFeesForBBA!=0){
  $bbaStudents.forEach(student => {
 var skillFees=filterSkillFees($skills,student.skill);
 var fine=getStudentOverAllFinePayed(student.rollNo);
 calcBBAStudentFees(skillFees,fine,$batchFeesForBBA,$otherFeesForBba,student);
   });
  }
   
}
//end processs for bba student

//processs for BSCIT student
async function BSCIT(){
    if($bscItSTudents!=0&&$batchFeesForBscIT!=0){
  $bscItSTudents.forEach(student => {
 var skillFees=filterSkillFees($skills,student.skill);
 var fine=getStudentOverAllFinePayed(student.rollNo);
 calcBSCITStudentFees(skillFees,fine,$batchFeesForBscIT,$otherFeesForBscIT,student);
   });
  }
   
}
//end processs for BSCIT student


// processs for BSCMATHS student
async function BSCMATHS(){
    if($bscMathsStudents!=0&&$batchFeesForBscMaths!=0){
  $bscMathsStudents.forEach(student => {
 var skillFees=filterSkillFees($skills,student.skill);
 var fine=getStudentOverAllFinePayed(student.rollNo);
 calcBSCMATHSStudentFees(skillFees,fine,$batchFeesForBscMaths,$otherFeesForBscMaths,student);
   });
  }
   
}
//end processs for BSCMATHS student


// processs for BAENGLISH student
async function BAENGLISH(){
    if($baEnglishStudents!=0&&$batchFeesForBaEnglish!=0){
  $baEnglishStudents.forEach(student => {
 var skillFees=filterSkillFees($skills,student.skill);
 var fine=getStudentOverAllFinePayed(student.rollNo);
 calcBAENGLISHStudentFees(skillFees,fine,$batchFeesForBaEnglish,$otherFeesForEnglish,student);
   });
  }
   
}
//end processs for BAENGLISH student

// processs for MCOM student
async function MCOM(){
    if($mcomStudents!=0&&$batchFeesForMcom!=0){
  $mcomStudents.forEach(student => {
 var skillFees=filterSkillFees($skills,student.skill);
 var fine=getStudentOverAllFinePayed(student.rollNo);
 calcMCOMStudentFees(skillFees,fine,$batchFeesForMcom,$otherFeesForMcom,student);
   });
  }
   
}
//end processs for MCOM student

/*---End functions---*/

/********process********/
async function process(){

//getting bca student
try{
  $bcaStudents=await getDepartmentStudents("BCA");
$bcaStudents=JSON.parse($bcaStudents);
}
catch(er){
  console.log("failed to get bca department students , check it is added or not");
}
 //end getting bca student

//getting bcom student
try{
  $bcomStudents=await getDepartmentStudents("B.Com");
$bcomStudents=JSON.parse($bcomStudents);
}
catch(er){
  console.log("failed to get bcom department students , check it is added or not");
}


 //end getting bcom student

//getting bba student
try {
  $bbaStudents=await getDepartmentStudents("BBA");
$bbaStudents=JSON.parse($bbaStudents);
} catch (err) {
  console.log("failed to get BBA department students , check it is added or not");
}
 //end getting bba student


//getting bscIt student
try{
  $bscItSTudents=await getDepartmentStudents("Bsc(IT)");
$bscItSTudents=JSON.parse($bscItSTudents);
}
catch(err){
  console.log("failed to get Bsc(IT) department students , check it is added or not");

}
 //end getting bscIt student

//getting Bsc(Maths) student
try{
  $bscMathsStudents=await getDepartmentStudents("Bsc(Maths)");
$bscMathsStudents=JSON.parse($bscMathsStudents);
}
catch(err){
  console.log("failed to get Bsc(Maths) department students , check it is added or not");

}
 //end getting Bsc(Maths) student


//getting BA(English) student
try{
  $baEnglishStudents=await getDepartmentStudents("BA(English)");
$baEnglishStudents=JSON.parse($baEnglishStudents);
}
catch(err){
  console.log("failed to get Bsc(English) department students , check it is added or not");
}
 //end getting BA(English) student


//getting mcom student
try{
  $mcomStudents=await getDepartmentStudents("M.Com");
$mcomStudents=JSON.parse($mcomStudents);
}
catch(err){
  console.log("failed to getM.Com department students , check it is added or not");

}
 //end getting mcom student


//get bca batchFees
try{
  $batchFeesForBca=await getBatchFees("BCA");
$batchFeesForBca=JSON.parse($batchFeesForBca);
 if($("#sem").val()==1){
   $otherFeesForBca=$batchFeesForBca.otherFeesForSem1
}
else if($("#sem").val()==2){
$otherFeesForBca=$batchFeesForBca.otherFeesForSem2
 
}
else if($("#sem").val()==3){
$otherFeesForBca=$batchFeesForBca.otherFeesForSem3
 
}
else if($("#sem").val()==4){
$otherFeesForBca=$batchFeesForBca.otherFeesForSem4
 }
else if($("#sem").val()==5){
$otherFeesForBca=$batchFeesForBca.otherFeesForSem5
 
}
else if($("#sem").val()==6){
$otherFeesForBca=$batchFeesForBca.otherFeesForSem6

}
$batchFeesForBca=$batchFeesForBca.semFees;
console.log("bca",$batchFeesForBca,$otherFeesForBca);
$("#staus1").html(" ");

}
catch(err){
  $batchFeesForBca=0;
$("#status1").html("failed to get batch fees for BCA check it is added or not");
$("#status1").css("color","orange");
}
//end get bca batchFees


//get bcom batchFees
try{
  $batchFeesForBcom=await getBatchFees("B.Com");
$batchFeesForBcom=JSON.parse($batchFeesForBcom);
 if($("#sem").val()==1){
   $otherFeesForBcom=$batchFeesForBcom.otherFeesForSem1
}
else if($("#sem").val()==2){
$otherFeesForBcom=$batchFeesForBcom.otherFeesForSem2
 
}
else if($("#sem").val()==3){
$otherFeesForBcom=$batchFeesForBcom.otherFeesForSem3
 
}
else if($("#sem").val()==4){
$otherFeesForBcom=$batchFeesForBcom.otherFeesForSem4
 }
else if($("#sem").val()==5){
$otherFeesForBcom=$batchFeesForBcom.otherFeesForSem5
 
}
else if($("#sem").val()==6){
$otherFeesForBcom=$batchFeesForBcom.otherFeesForSem6
}
$batchFeesForBcom=$batchFeesForBcom.semFees;
console.log("bcom",$batchFeesForBcom,$otherFeesForBcom);
$("#status2").html(" ");
}
catch(err){
   $batchFeesForBcom=0;
  $("#status2").html("failed to get batch fees for B.Com check it is added or not");
$("#status2").css("color","orange");
}
//end get bcom batchFees


//get BBA batchFees
try{
  $batchFeesForBBA=await getBatchFees("BBA");
$batchFeesForBBA=JSON.parse($batchFeesForBBA);
 if($("#sem").val()==1){
   $otherFeesForBba=$batchFeesForBBA.otherFeesForSem1
}
else if($("#sem").val()==2){
$otherFeesForBba=$batchFeesForBBA.otherFeesForSem2
 
}
else if($("#sem").val()==3){
$otherFeesForBba=$batchFeesForBBA.otherFeesForSem3
 
}
else if($("#sem").val()==4){
$otherFeesForBba=$batchFeesForBBA.otherFeesForSem4
 }
else if($("#sem").val()==5){
$otherFeesForBba=$batchFeesForBBA.otherFeesForSem5
 
}
else if($("#sem").val()==6){
$otherFeesForBba=$batchFeesForBBA.otherFeesForSem6
}
$batchFeesForBBA=$batchFeesForBBA.semFees;
console.log("BBA",$batchFeesForBBA,$otherFeesForBba);
$("#status3").html(" ");
}
catch(err){
  $batchFeesForBBA=0;
  $("#status3").html("failed to get batch fees for BBA check it is added or not");
$("#status3").css("color","orange");
}
//end get BBA batchFees

//get Bsc(IT) batchFees
try{
  $batchFeesForBscIT=await getBatchFees("Bsc(IT)");
$batchFeesForBscIT=JSON.parse($batchFeesForBscIT);
 if($("#sem").val()==1){
   $otherFeesForBscIT=$batchFeesForBscIT.otherFeesForSem1
}
else if($("#sem").val()==2){
$otherFeesForBscIT=$batchFeesForBscIT.otherFeesForSem2
 
}
else if($("#sem").val()==3){
$otherFeesForBscIT=$batchFeesForBscIT.otherFeesForSem3
 
}
else if($("#sem").val()==4){
$otherFeesForBscIT=$batchFeesForBscIT.otherFeesForSem4
 }
else if($("#sem").val()==5){
$otherFeesForBscIT=$batchFeesForBscIT.otherFeesForSem5
 
}
else if($("#sem").val()==6){
$otherFeesForBscIT=$batchFeesForBscIT.otherFeesForSem6
}
$batchFeesForBscIT=$batchFeesForBscIT.semFees;
console.log("IT",$batchFeesForBscIT,$otherFeesForBscIT);
$("#status4").html(" ");
}
catch(err){
  $batchFeesForBscIT=0;
  $("#status4").html("failed to get batch fees for Bsc(IT) check it is added or not");
$("#status4").css("color","orange");
}
//end get Bsc(IT) batchFees


//get Bsc(Maths) batchFees
try{
  $batchFeesForBscMaths=await getBatchFees("Bsc(Maths)");
$batchFeesForBscMaths=JSON.parse($batchFeesForBscMaths);
 if($("#sem").val()==1){
   $otherFeesForBscMaths=$batchFeesForBscMaths.otherFeesForSem1
}
else if($("#sem").val()==2){
$otherFeesForBscMaths=$batchFeesForBscMaths.otherFeesForSem2
 
}
else if($("#sem").val()==3){
$otherFeesForBscMaths=$batchFeesForBscMaths.otherFeesForSem3
 
}
else if($("#sem").val()==4){
$otherFeesForBscMaths=$batchFeesForBscMaths.otherFeesForSem4
 }
else if($("#sem").val()==5){
$otherFeesForBscMaths=$batchFeesForBscMaths.otherFeesForSem5
 
}
else if($("#sem").val()==6){
$otherFeesForBscMaths=$batchFeesForBscMaths.otherFeesForSem6
}
$batchFeesForBscMaths=$batchFeesForBscMaths.semFees;
console.log("MATHS",$batchFeesForBscMaths,$otherFeesForBscMaths);
$("#status5").html(" ");
}
catch(err){
  $batchFeesForBscMaths=0;
  $("#status5").html("failed to get batch fees for Bsc(Maths) check it is added or not");
$("#status5").css("color","orange");
}
//end get Bsc(Maths) batchFees


//get englsih batchFees
try{
  $batchFeesForBaEnglish=await getBatchFees("BA(English)");
$batchFeesForBaEnglish=JSON.parse($batchFeesForBaEnglish);
 if($("#sem").val()==1){
   $otherFeesForEnglish=$batchFeesForBaEnglish.otherFeesForSem1
}
else if($("#sem").val()==2){
$otherFeesForEnglish=$batchFeesForBaEnglish.otherFeesForSem2
 
}
else if($("#sem").val()==3){
$otherFeesForEnglish=$batchFeesForBaEnglish.otherFeesForSem3
 
}
else if($("#sem").val()==4){
$otherFeesForEnglish=$batchFeesForBaEnglish.otherFeesForSem4
 }
else if($("#sem").val()==5){
$otherFeesForEnglish=$batchFeesForBaEnglish.otherFeesForSem5
 
}
else if($("#sem").val()==6){
$otherFeesForEnglish=$batchFeesForBaEnglish.otherFeesForSem6
}
$batchFeesForBaEnglish=$batchFeesForBaEnglish.semFees;
console.log("English",$batchFeesForBaEnglish,$otherFeesForEnglish);
$("#status5").html(" ");
}
catch(err){
  $batchFeesForBaEnglish=0;
  $("#status6").html("failed to get batch fees for BA(English) check it is added or not");
$("#status6").css("color","orange");
}
//end get englsih batchFees



//get   mcom
try{
  $batchFeesForMcom=await getBatchFees("M.Com");
$batchFeesForMcom=JSON.parse($batchFeesForMcom);
 if($("#sem").val()==1){
   $otherFeesForMcom=$batchFeesForMcom.otherFeesForSem1
}
else if($("#sem").val()==2){
$otherFeesForMcom=$batchFeesForMcom.otherFeesForSem2
 
}
else if($("#sem").val()==3){
$otherFeesForMcom=$batchFeesForMcom.otherFeesForSem3
 
}
else if($("#sem").val()==4){
$otherFeesForMcom=$batchFeesForMcom.otherFeesForSem4
 }
else if($("#sem").val()==5){
$otherFeesForMcom=$batchFeesForMcom.otherFeesForSem5
 
}
else if($("#sem").val()==6){
$otherFeesForMcom=$batchFeesForMcom.otherFeesForSem6
}
$batchFeesForMcom=$batchFeesForMcom.semFees;
console.log("Mcom",$batchFeesForMcom,$otherFeesForMcom);
$("#status7").html(" ");
}
catch(err){
  $batchFeesForMcom=0;
  $("#status7").html("failed to get batch fees for M.Com check it is added or not");
$("#status7").css("color","orange");
}
//end get M.Com batchFees

//get skillFees;
try{
  var skills=await getSkillFees();
  $skills=JSON.parse(skills);
$("#status8").html("");
}
catch(er){
  console.log();
  $("#status8").html("failed to get batch skills check it is added or not");
$("#status8").css("color","orange");
}
//end get skill fees

//DEPARTMENT PROCES


BCA();
BCOM();
BBA();
BSCIT();
BSCMATHS();
BAENGLISH();
MCOM();

//END DEPARTMENT PROCES
} 
/********End process********/
if($("#batch").val()!=""&&$("#sem").val()!=""){
process();
}
else{
  swal("please enter the batch & sem", " ", "warning");
}
}
//fun main();
main();
});
  </script>
</html>